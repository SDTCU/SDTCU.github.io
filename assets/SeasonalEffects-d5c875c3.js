var g=Object.defineProperty;var z=(r,s,n)=>s in r?g(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n;var a=(r,s,n)=>(z(r,typeof s!="symbol"?s+"":s,n),n);import{d as P,r as w,o as S,a as _,w as b,b as X,e as Y}from"./vue-vendor-07726ef7.js";const R=P({__name:"SeasonalEffects",props:{active:{type:Boolean}},setup(r,{expose:s}){const n=r,t=w(null);let l=null,u,d=[];const c=w("spring"),M=()=>{const i=new Date().getMonth()+1;return i>=3&&i<=5?"spring":i>=6&&i<=8?"summer":i>=9&&i<=11?"autumn":"winter"};class y{constructor(e,o,h){a(this,"x");a(this,"y");a(this,"size");a(this,"speedX");a(this,"speedY");a(this,"color");a(this,"rotation");a(this,"rotationSpeed");a(this,"type");if(this.x=Math.random()*e,this.y=Math.random()*-o,h==="winter")this.size=Math.random()*3+1,this.speedY=Math.random()*1+.5,this.speedX=Math.random()*.5-.25,this.color="rgba(255, 255, 255, 0.8)",this.type="circle";else if(h==="autumn"){this.size=Math.random()*8+4,this.speedY=Math.random()*1.5+.5,this.speedX=Math.random()*2-1;const v=["#eab308","#f97316","#ef4444","#78350f"];this.color=v[Math.floor(Math.random()*v.length)],this.type="leaf"}else h==="summer"?(this.size=Math.random()*6+3,this.speedY=Math.random()*2+1,this.speedX=Math.random()*2-1,this.color="#4ade80",this.type="leaf"):(this.size=Math.random()*5+2,this.speedY=Math.random()*1+.5,this.speedX=Math.random()*1-.5,this.color="#f472b6",this.type="petal");this.rotation=Math.random()*360,this.rotationSpeed=(Math.random()-.5)*2}update(e,o){this.y+=this.speedY,this.x+=this.speedX,this.rotation+=this.rotationSpeed,this.y>o&&(this.y=-10,this.x=Math.random()*e),this.x>e&&(this.x=0),this.x<0&&(this.x=e)}draw(e){e.save(),e.translate(this.x,this.y),e.rotate(this.rotation*Math.PI/180),e.fillStyle=this.color,this.type==="circle"?(e.beginPath(),e.arc(0,0,this.size,0,Math.PI*2),e.fill()):(this.type==="leaf"||this.type==="petal")&&(e.beginPath(),e.ellipse(0,0,this.size,this.size/2,0,0,Math.PI*2),e.fill()),e.restore()}}const f=()=>{if(!t.value)return;const i=t.value.width,e=t.value.height;d=[];const o=c.value==="winter"?100:30;for(let h=0;h<o;h++)d.push(new y(i,e,c.value)),d[h].y=Math.random()*e},m=()=>{if(!t.value||!l)return;const i=t.value.width,e=t.value.height;l.clearRect(0,0,i,e),d.forEach(o=>{o.update(i,e),o.draw(l)}),u=requestAnimationFrame(m)},p=()=>{t.value&&(t.value.width=window.innerWidth,t.value.height=window.innerHeight,n.active&&f())};return S(()=>{c.value=M(),t.value&&(l=t.value.getContext("2d"),t.value.width=window.innerWidth,t.value.height=window.innerHeight,n.active&&(f(),m())),window.addEventListener("resize",p)}),_(()=>{cancelAnimationFrame(u),window.removeEventListener("resize",p)}),b(()=>n.active,i=>{i?(f(),m()):(cancelAnimationFrame(u),l&&t.value&&l.clearRect(0,0,t.value.width,t.value.height))}),s({currentSeason:c}),(i,e)=>(X(),Y("canvas",{ref_key:"canvasRef",ref:t,class:"fixed inset-0 pointer-events-none z-50"},null,512))}});export{R as default};
